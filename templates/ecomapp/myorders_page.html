{% extends 'ecomapp/base.html' %}
{% block body %}

<script type="text/javascript">

    function myFunction(id)   {
        console.log(id)
   $.ajax(
    {
        type:"GET",
        url: `/ecom/update_order/${id}`,
        success: function( data )
        {
           console.log(data)

        }
     }
     )
    }

    function myBuyFunction(id)   {
        var color = $(`#quantity_${id}`).val()
        console.log(color)

   $.ajax(
    {
        type:"GET",

        success: function( data )
        {
           console.log(data)
           $("#update-form").empty()
           $("#update-form").append(data)
           $('#update_id').val(id)
        }
     }
     )
    }

    function changeQuantityFunc(id){
        console.log(id)
        var quantity = $(`#quantity_${id}`).val()
        console.log(quantity)

        $.ajax(
    {
        type:"GET",
        url: `/ecom/update_order_quantity/${id}/${quantity}/`,
        success: function( data )
        {
           console.log(data)
        //    location.reload()
        }
     }
     )
    }


     function remove_from_order(id){
        // document.getElementById(`removeTwishlist_${id}`).remove();
        console.log(id)
   $.ajax(
    {
        type:"GET",
        url: `/ecom/remove_from_order/${id}/`,
        success: function( data )
        {
           console.log(data)
           location.reload()
        }
     }
     )
    }




</script>

<hr style="border-top:1px solid #000; clear:both;"/>
<div class="col">
    <a type="button" class="btn btn-primary"
       href="#" class="likebutton">
        Place Order
    </a>
</div>
<div class="d-flex justify-content-around">
    {% for item in myorder %}
    <div class="d-inline-flex p-2 bd-highlight">
        <div class="card" style="width: 18rem;">
            <img src="{{ item.product_img.url }}" height="200px" width="280px">
            <div class="card-body">
                <h6>Brand: {{ item.product_name }}</h6>
                <h6>size: {{ item.size }}</h6>
                <h6>size: {{ item.color }}</h6>
                <h6>gender: {{ item.gender }}</h6>
                <h6>Price: {{ item.price }}</h6>
                <h6>Quantity: {{ item.quantity}}</h6>
            </div>
            <div class="modal-footer">
                <a type="button" class="btn btn-primary"
                   href="#" class="likebutton" id="addToorder"  data-catid="{{ post.id }}"
                   onclick="myBuyFunction('{{item.id}}')">
                    Cancel
                </a>
                <a type="button" class="btn btn-primary"
                   href="#" class="likebutton" id="addToorder"  data-catid="{{ post.id }}"
                   onclick="remove_from_order('{{item.id}}')">
                    delete
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}